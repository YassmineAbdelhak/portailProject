{"ast":null,"code":"import _classCallCheck from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nimport _slicedToArray from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\work\\\\SIP\\\\SumIntership\\\\src\\\\views\\\\ListEmployee.js\";\n\nimport React, { Component, useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Card, CardBody, FormGroup, Modal, CardHeader, Col, Row, Input, Table, Form, Button, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt, faEdit } from '@fortawesome/free-solid-svg-icons';\n\nvar Employers = function Employers(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      info = _useState2[0],\n      setInfo = _useState2[1];\n\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 5\n    }\n  }, props.emp.f_name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }\n  }, props.emp.l_name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, props.emp.position), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }, props.emp.email), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 5\n    }\n  }, props.departement), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }\n  }, props.emp.role), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Link, {\n    to: \"editemployee/\" + props.id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 10\n    }\n  }, \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEdit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 47\n    }\n  }), \" \"), \" \"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n    style: {\n      cursor: 'pointer',\n      color: '#6E9DBA'\n    },\n    onClick: function onClick() {\n      return setInfo(!info);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: info,\n    toggle: function toggle() {\n      return setInfo(!info);\n    },\n    className: \"modal-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: function toggle() {\n      return setInfo(!info);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ModalBody, {\n    style: {\n      color: 'black'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, \"Are you sure you want to delete this?\"), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: function onClick() {\n      props.deleteEmployee(props.emp._id);\n    },\n    href: \"/admin/listemployee\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }\n  }, \" Delete \"), /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    onClick: function onClick() {\n      return setInfo(!info);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 11\n    }\n  }, \" Cancel \"))), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTrashAlt,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  })), \" \"));\n};\n\nvar Listemployee = /*#__PURE__*/function (_Component) {\n  _inherits(Listemployee, _Component);\n\n  var _super = _createSuper(Listemployee);\n\n  function Listemployee(props) {\n    var _this2;\n\n    _classCallCheck(this, Listemployee);\n\n    _this2 = _super.call(this, props);\n\n    _this2.notifyDelete = function (place) {\n      var options = {};\n      options = {\n        place: place,\n        message: /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 11\n          }\n        }, \"Employee deleted Successfully\")),\n        type: \"warning\",\n        icon: \"tim-icons icon-bell-55\",\n        autoDismiss: 7\n      };\n\n      _this2.refs.notificationAlert.notificationAlert(options);\n    };\n\n    _this2.inputChange = function (e) {\n      _this2.setState({\n        searchText: e.target.value\n      });\n    };\n\n    _this2.search = function () {\n      if (_this2.state.searchText.length > 0) {\n        var list = _this2.state.originalList.filter(function (l) {\n          return l.username.toLowerCase().includes(_this2.state.searchText.toLowerCase());\n        });\n\n        _this2.setState({\n          employees: list\n        });\n      } else {\n        _this2.setState({\n          employees: _this2.state.originalList\n        });\n      }\n    };\n\n    _this2.deleteEmployee = _this2.deleteEmployee.bind(_assertThisInitialized(_this2));\n    _this2.state = {\n      employees: [],\n      departements: [],\n      searchText: '',\n      originalList: [],\n      addModalShow: false\n    };\n    return _this2;\n  }\n\n  _createClass(Listemployee, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      axios.get('http://localhost:3000/ManageEmployee/').then(function (response) {\n        _this3.setState({\n          employees: response.data,\n          originalList: response.data\n        });\n\n        console.log(\"====>\", response.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"deleteEmployee\",\n    value: function deleteEmployee(id) {\n      var _this4 = this;\n\n      axios.delete('http://localhost:3000/ManageEmployee/' + id).then(function (response) {\n        console.log(response.data);\n\n        _this4.notifyDelete(\"tc\");\n      });\n      this.setState({\n        employees: this.state.employees.filter(function (el) {\n          return el._id !== id;\n        })\n      });\n    }\n  }, {\n    key: \"employeeList\",\n    value: function employeeList() {\n      var _this5 = this;\n\n      return this.state.employees.map(function (currentemp) {\n        return /*#__PURE__*/React.createElement(Employers, {\n          emp: currentemp,\n          departement: currentemp.departement.departement_name,\n          id: currentemp._id,\n          deleteEmployee: _this5.deleteEmployee,\n          key: currentemp._id,\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 14\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xl: 30,\n        lg: 12,\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        name: \"search_employee\",\n        placeholder: \"Seach for employee...\",\n        size: \"lg\",\n        onChange: this.inputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"secondary\",\n        size: \"lg\",\n        onClick: this.search,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 19\n        }\n      }, \"Search\"))), /*#__PURE__*/React.createElement(Card, {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      }, \"Employees List\"), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        responsive: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }\n      }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }\n      }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }\n      }, \"Position\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }\n      }, \"Departement\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 25\n        }\n      }, \"Role\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }\n      }, \"Delete\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }\n      }, this.employeeList())))))))));\n    }\n  }]);\n\n  return Listemployee;\n}(Component);\n\nexport { Listemployee as default };","map":{"version":3,"sources":["D:/work/SIP/SumIntership/src/views/ListEmployee.js"],"names":["React","Component","useState","axios","Link","Card","CardBody","FormGroup","Modal","CardHeader","Col","Row","Input","Table","Form","Button","ModalHeader","ModalBody","ModalFooter","FontAwesomeIcon","faTrashAlt","faEdit","Employers","props","info","setInfo","emp","f_name","l_name","position","email","departement","role","id","cursor","color","deleteEmployee","_id","Listemployee","notifyDelete","place","options","message","type","icon","autoDismiss","refs","notificationAlert","inputChange","e","setState","searchText","target","value","search","state","length","list","originalList","filter","l","username","toLowerCase","includes","employees","bind","departements","addModalShow","get","then","response","data","console","log","catch","error","delete","el","map","currentemp","departement_name","employeeList"],"mappings":"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","sourcesContent":["import React, { Component, useState }from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, CardBody, FormGroup,Modal, CardHeader, Col, Row, Input, Table, Form, Button, ModalHeader, ModalBody, ModalFooter, } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt, faEdit } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Employers = (props) => {\r\n  const [info, setInfo] = useState(false);\r\n  return(\r\n  <tr>\r\n    <td>{props.emp.f_name}</td>\r\n    <td>{props.emp.l_name}</td>\r\n    <td>{props.emp.position}</td>\r\n    <td>{props.emp.email}</td>\r\n    <td>{props.departement}</td>\r\n    <td>{props.emp.role}</td>\r\n    <td> <Link to={\"editemployee/\"+props.id}> <FontAwesomeIcon icon={faEdit} /> </Link> </td>\r\n    <td> <a  style={{cursor:'pointer', color:'#6E9DBA'}} onClick={()=> setInfo(!info)} >\r\n      \r\n      <Modal isOpen={info} toggle={()=> setInfo(!info)}\r\n      className='modal-info'>\r\n        <ModalHeader toggle={()=> setInfo(!info)}></ModalHeader>\r\n        <ModalBody style={{color:'black'}}>\r\n          Are you sure you want to delete this?\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"primary\" onClick={() => { props.deleteEmployee(props.emp._id) }} href=\"/admin/listemployee\" > Delete </Button>\r\n          <Button color=\"secondary\" onClick={() => setInfo(!info)} > Cancel </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n      <FontAwesomeIcon icon={faTrashAlt} /> \r\n    </a> </td>\r\n\r\n  </tr>\r\n  )\r\n  }\r\n\r\nexport default class Listemployee extends Component {\r\n  notifyDelete = place => {\r\n    var options = {};\r\n    options = {\r\n      place: place,\r\n      message: (\r\n        <div>\r\n          <div>\r\n            Employee deleted Successfully\r\n          </div>\r\n        </div>\r\n      ),\r\n      type: \"warning\",\r\n      icon: \"tim-icons icon-bell-55\",\r\n      autoDismiss: 7\r\n    };\r\n    this.refs.notificationAlert.notificationAlert(options);\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.deleteEmployee = this.deleteEmployee.bind(this)\r\n    this.state = {\r\n      employees: [],\r\n      departements:[],\r\n      searchText: '',\r\n      originalList: [],\r\n      addModalShow: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get('http://localhost:3000/ManageEmployee/')\r\n      .then(response => {\r\n        this.setState({ employees: response.data, originalList: response.data })\r\n        console.log(\"====>\",response.data)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        \r\n      })\r\n      \r\n  }\r\n\r\n  deleteEmployee(id) {\r\n    axios.delete('http://localhost:3000/ManageEmployee/' + id)\r\n      .then(response => { \r\n        console.log(response.data)\r\n        this.notifyDelete(\"tc\")\r\n      });\r\n\r\n    this.setState({\r\n      employees: this.state.employees.filter(el => el._id !== id)\r\n    })\r\n  }\r\n  \r\n  employeeList() {\r\n    \r\n    return this.state.employees.map(currentemp => {\r\n      return <Employers emp={currentemp} departement={currentemp.departement.departement_name} id={currentemp._id} deleteEmployee={this.deleteEmployee} key={currentemp._id} />;\r\n      \r\n    })\r\n  }\r\n  inputChange = (e) => {\r\n    this.setState({ searchText: e.target.value });\r\n  };\r\n  search = () => {\r\n    if (this.state.searchText.length > 0) {\r\n      let list = this.state.originalList.filter((l) => {\r\n        return l.username\r\n          .toLowerCase()\r\n          .includes(this.state.searchText.toLowerCase());\r\n      });\r\n      this.setState({ employees: list });\r\n    } else {\r\n      this.setState({ employees: this.state.originalList });\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n      <div className=\"content\">\r\n        <Row>\r\n          <Col xl={30} lg={12} md={12} >\r\n            <Form>\r\n              <FormGroup row>\r\n                <Col sm={10}>\r\n                  <Input\r\n                    type=\"text\"\r\n                    name=\"search_employee\"\r\n                    placeholder=\"Seach for employee...\"\r\n                    size=\"lg\"\r\n                    onChange={this.inputChange}\r\n                  />\r\n                </Col>\r\n                <Col>\r\n                  <Button color=\"secondary\" size=\"lg\"\r\n                  onClick={this.search}>\r\n                    Search\r\n                </Button>\r\n                </Col>\r\n              </FormGroup>\r\n              <Card className=\"mb-3\">\r\n                <CardHeader>Employees List</CardHeader>\r\n                <CardBody>\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>First Name</th>\r\n                        <th>Last Name</th>\r\n                        <th>Position</th>\r\n                        <th>Email</th>\r\n                        <th>Departement</th>\r\n                        <th>Role</th>\r\n                        <th>Edit</th>\r\n                        <th>Delete</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    { this.employeeList() }\r\n                    </tbody>\r\n                  </Table>\r\n                </CardBody>\r\n              </Card>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n        </div>\r\n        </>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}