{"ast":null,"code":"import _classCallCheck from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nimport _slicedToArray from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\work\\\\SIP\\\\SumIntership\\\\src\\\\views\\\\ListConge.js\";\n\nimport React, { Component, useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Card, CardBody, FormGroup, Modal, CardHeader, Col, Row, Input, Table, Form, Button, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt, faEdit } from '@fortawesome/free-solid-svg-icons';\nimport jwt from \"jsonwebtoken\";\n\nvar Congers = function Congers(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      info = _useState2[0],\n      setInfo = _useState2[1];\n\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }\n  }, props.emp.type), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, props.emp.date_deb), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }, props.emp.date_fin), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 5\n    }\n  }, props.emp.position), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Link, {\n    to: \"editconge/\" + props.id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 10\n    }\n  }, \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEdit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 44\n    }\n  }), \" \"), \" \"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n    style: {\n      cursor: 'pointer',\n      color: '#6E9DBA'\n    },\n    onClick: function onClick() {\n      return setInfo(!info);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: info,\n    toggle: function toggle() {\n      return setInfo(!info);\n    },\n    className: \"modal-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: function toggle() {\n      return setInfo(!info);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ModalBody, {\n    style: {\n      color: 'black'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, \"Are you sure you want to delete this?\"), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: function onClick() {\n      props.deleteConge(props.emp._id);\n    },\n    href: \"/admin/listconge\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }\n  }, \" Delete \"), /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    onClick: function onClick() {\n      return setInfo(!info);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }\n  }, \" Cancel \"))), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTrashAlt,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  })), \" \"));\n};\n\nvar ListConge = /*#__PURE__*/function (_Component) {\n  _inherits(ListConge, _Component);\n\n  var _super = _createSuper(ListConge);\n\n  function ListConge(props) {\n    var _this2;\n\n    _classCallCheck(this, ListConge);\n\n    _this2 = _super.call(this, props);\n\n    _this2.notifyDelete = function (place) {\n      var options = {};\n      options = {\n        place: place,\n        message: /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 11\n          }\n        }, \"Request For Leave deleted Successfully\")),\n        type: \"warning\",\n        icon: \"tim-icons icon-bell-55\",\n        autoDismiss: 7\n      };\n\n      _this2.refs.notificationAlert.notificationAlert(options);\n    };\n\n    _this2.inputChange = function (e) {\n      _this2.setState({\n        searchText: e.target.value\n      });\n    };\n\n    _this2.search = function () {\n      if (_this2.state.searchText.length > 0) {\n        var list = _this2.state.originalList.filter(function (l) {\n          return l.type.toLowerCase().includes(_this2.state.searchText.toLowerCase());\n        });\n\n        _this2.setState({\n          conges: list\n        });\n      } else {\n        _this2.setState({\n          conges: _this2.state.originalList\n        });\n      }\n    };\n\n    _this2.deleteConge = _this2.deleteConge.bind(_assertThisInitialized(_this2));\n    _this2.state = {\n      conges: [],\n      searchText: '',\n      originalList: [],\n      addModalShow: false\n    };\n    return _this2;\n  }\n\n  _createClass(ListConge, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      var token = localStorage.getItem(\"token\");\n      var decoded = jwt.decode(token, {\n        complete: true\n      });\n      console.log(decoded.payload.employee);\n      this.setState({\n        employee: decoded.payload.employee.id\n      });\n      console.log(this.state.employee);\n      this.setState({\n        emp_departement: decoded.payload.employee.departement._id\n      });\n      console.log(this.state.emp_departement);\n      axios.get('http://localhost:3000/ManageConge/').then(function (response) {\n        _this3.setState({\n          conges: response.data,\n          originalList: response.data\n        });\n\n        console.log(\"====>\", response.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"deleteConge\",\n    value: function deleteConge(id) {\n      var _this4 = this;\n\n      axios.delete('http://localhost:3000/ManageConge/' + id).then(function (response) {\n        console.log(response.data);\n\n        _this4.notifyDelete(\"tc\");\n      });\n      this.setState({\n        conges: this.state.conges.filter(function (el) {\n          return el._id !== id;\n        })\n      });\n    }\n  }, {\n    key: \"CongeList\",\n    value: function CongeList() {\n      var _this5 = this;\n\n      return this.state.conges.map(function (currentemp) {\n        if (currentemp.employee._id == _this5.state.employee) {\n          return /*#__PURE__*/React.createElement(Congers, {\n            emp: currentemp,\n            id: currentemp._id,\n            deleteConge: _this5.deleteConge,\n            key: currentemp._id,\n            __self: _this5,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 14\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xl: 30,\n        lg: 12,\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        name: \"search_conge\",\n        placeholder: \"Seach for Request For Leave...\",\n        size: \"lg\",\n        onChange: this.inputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"secondary\",\n        size: \"lg\",\n        onClick: this.search,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 19\n        }\n      }, \"Search\"))), /*#__PURE__*/React.createElement(Card, {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }\n      }, \"Request For Leave List\"), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        responsive: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }\n      }, \"Type\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }\n      }, \"Start Date\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }\n      }, \"End Date\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }\n      }, \"Position\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }\n      }, \"Delete\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }\n      }, this.CongeList())))))))));\n    }\n  }]);\n\n  return ListConge;\n}(Component);\n\nexport { ListConge as default };","map":{"version":3,"sources":["D:/work/SIP/SumIntership/src/views/ListConge.js"],"names":["React","Component","useState","axios","Link","Card","CardBody","FormGroup","Modal","CardHeader","Col","Row","Input","Table","Form","Button","ModalHeader","ModalBody","ModalFooter","FontAwesomeIcon","faTrashAlt","faEdit","jwt","Congers","props","info","setInfo","emp","type","date_deb","date_fin","position","id","cursor","color","deleteConge","_id","ListConge","notifyDelete","place","options","message","icon","autoDismiss","refs","notificationAlert","inputChange","e","setState","searchText","target","value","search","state","length","list","originalList","filter","l","toLowerCase","includes","conges","bind","addModalShow","token","localStorage","getItem","decoded","decode","complete","console","log","payload","employee","emp_departement","departement","get","then","response","data","catch","error","delete","el","map","currentemp","CongeList"],"mappings":"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","sourcesContent":["import React, { Component, useState }from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, CardBody, FormGroup,Modal, CardHeader, Col, Row, Input, Table, Form, Button, ModalHeader, ModalBody, ModalFooter, } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt, faEdit } from '@fortawesome/free-solid-svg-icons';\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nconst Congers = (props) => {\r\n  const [info, setInfo] = useState(false);\r\n  return(\r\n  <tr>\r\n    <td>{props.emp.type}</td>\r\n    <td>{props.emp.date_deb}</td>\r\n    <td>{props.emp.date_fin}</td>\r\n    <td>{props.emp.position}</td>\r\n    <td> <Link to={\"editconge/\"+props.id}> <FontAwesomeIcon icon={faEdit} /> </Link> </td>\r\n    <td> <a  style={{cursor:'pointer', color:'#6E9DBA'}} onClick={()=> setInfo(!info)} >\r\n      \r\n      <Modal isOpen={info} toggle={()=> setInfo(!info)}\r\n      className='modal-info'>\r\n        <ModalHeader toggle={()=> setInfo(!info)}></ModalHeader>\r\n        <ModalBody style={{color:'black'}}>\r\n          Are you sure you want to delete this?\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"primary\" onClick={() => { props.deleteConge(props.emp._id) }} href=\"/admin/listconge\" > Delete </Button>\r\n          <Button color=\"secondary\" onClick={() => setInfo(!info)} > Cancel </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n      <FontAwesomeIcon icon={faTrashAlt} /> \r\n    </a> </td>\r\n\r\n  </tr>\r\n  )\r\n  }\r\n\r\nexport default class ListConge extends Component {\r\n  notifyDelete = place => {\r\n    var options = {};\r\n    options = {\r\n      place: place,\r\n      message: (\r\n        <div>\r\n          <div>\r\n            Request For Leave deleted Successfully\r\n          </div>\r\n        </div>\r\n      ),\r\n      type: \"warning\",\r\n      icon: \"tim-icons icon-bell-55\",\r\n      autoDismiss: 7\r\n    };\r\n    this.refs.notificationAlert.notificationAlert(options);\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.deleteConge = this.deleteConge.bind(this)\r\n    this.state = {\r\n      conges:[],\r\n      searchText: '',\r\n      originalList: [],\r\n      addModalShow: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    let token = localStorage.getItem(\"token\")\r\n    let decoded = jwt.decode(token,{complete: true})\r\n      console.log(decoded.payload.employee)\r\n      this.setState({employee : decoded.payload.employee.id})\r\n      console.log(this.state.employee)\r\n      this.setState({emp_departement : decoded.payload.employee.departement._id})\r\n      console.log(this.state.emp_departement)\r\n    axios.get('http://localhost:3000/ManageConge/')\r\n      .then(response => {\r\n        this.setState({ conges: response.data, originalList: response.data })\r\n        console.log(\"====>\",response.data)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        \r\n      })\r\n      \r\n  }\r\n\r\n  deleteConge(id) {\r\n    axios.delete('http://localhost:3000/ManageConge/' + id)\r\n      .then(response => { \r\n        console.log(response.data)\r\n        this.notifyDelete(\"tc\")\r\n      });\r\n\r\n    this.setState({\r\n      conges: this.state.conges.filter(el => el._id !== id)\r\n    })\r\n  }\r\n  \r\n  CongeList() {\r\n    \r\n    return this.state.conges.map(currentemp => {\r\n     if( (currentemp.employee._id == this.state.employee)){\r\n      return <Congers emp={currentemp} id={currentemp._id} deleteConge={this.deleteConge} key={currentemp._id} />;\r\n      \r\n    }\r\n  })\r\n  }\r\n  inputChange = (e) => {\r\n    this.setState({ searchText: e.target.value });\r\n  };\r\n  search = () => {\r\n    if (this.state.searchText.length > 0) {\r\n      let list = this.state.originalList.filter((l) => {\r\n        return l.type\r\n          .toLowerCase()\r\n          .includes(this.state.searchText.toLowerCase());\r\n      });\r\n      this.setState({ conges: list });\r\n    } else {\r\n      this.setState({ conges: this.state.originalList });\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n      <div className=\"content\">\r\n        <Row>\r\n          <Col xl={30} lg={12} md={12} >\r\n            <Form>\r\n              <FormGroup row>\r\n                <Col sm={10}>\r\n                  <Input\r\n                    type=\"text\"\r\n                    name=\"search_conge\"\r\n                    placeholder=\"Seach for Request For Leave...\"\r\n                    size=\"lg\"\r\n                    onChange={this.inputChange}\r\n                  />\r\n                </Col>\r\n                <Col>\r\n                  <Button color=\"secondary\" size=\"lg\"\r\n                  onClick={this.search}>\r\n                    Search\r\n                </Button>\r\n                </Col>\r\n              </FormGroup>\r\n              <Card className=\"mb-3\">\r\n                <CardHeader>Request For Leave List</CardHeader>\r\n                <CardBody>\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Type</th>\r\n                        <th>Start Date</th>\r\n                        <th>End Date</th>\r\n                        <th>Position</th>\r\n                        <th>Edit</th>\r\n                        <th>Delete</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    { this.CongeList() }\r\n                    </tbody>\r\n                  </Table>\r\n                </CardBody>\r\n              </Card>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n        </div>\r\n        </>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}