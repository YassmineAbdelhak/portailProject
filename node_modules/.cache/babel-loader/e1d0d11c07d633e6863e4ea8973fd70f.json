{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\work\\\\YasmineAbdelhakStaged'\\xE9t\\xE9\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\work\\\\YasmineAbdelhakStaged'\\xE9t\\xE9\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\work\\\\YasmineAbdelhakStaged'\\xE9t\\xE9\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\work\\\\YasmineAbdelhakStaged'\\xE9t\\xE9\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:\\\\work\\\\YasmineAbdelhakStaged'\\xE9t\\xE9\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\work\\\\YasmineAbdelhakStaged'\\xE9t\\xE9\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\work\\\\YasmineAbdelhakStaged'\\xE9t\\xE9\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\work\\\\YasmineAbdelhakStaged'\\xE9t\\xE9\\\\SumIntership\\\\src\\\\views\\\\EditDepartement.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport NotificationAlert from \"react-notification-alert\";\nimport { Button, Card, CardBody, CardHeader, Col, Form, FormGroup, Input, Label } from 'reactstrap';\nimport { useParams } from 'react-router-dom';\n\nvar EditDepartement = /*#__PURE__*/function (_Component) {\n  _inherits(EditDepartement, _Component);\n\n  var _super = _createSuper(EditDepartement);\n\n  function EditDepartement(props) {\n    var _this;\n\n    _classCallCheck(this, EditDepartement);\n\n    _this = _super.call(this, props);\n\n    _this.notify = function (place) {\n      var options = {};\n      options = {\n        place: place,\n        message: /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 15\n          }\n        }, \"Department Updated Successfully\")),\n        type: \"success\",\n        icon: \"tim-icons icon-bell-55\",\n        autoDismiss: 7\n      };\n\n      _this.refs.notificationAlert.notificationAlert(options);\n    };\n\n    _this.notifyError = function (place) {\n      var options = {};\n      options = {\n        place: place,\n        message: /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }\n        }, _this.state.errorMessage)),\n        type: \"danger\",\n        icon: \"tim-icons icon-bell-55\",\n        autoDismiss: 7\n      };\n\n      _this.refs.notificationAlert.notificationAlert(options);\n    };\n\n    _this.onChangeBoss = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.setState({\n                  boss: event.target.value\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.onChangeDepartement_name = _this.onChangeDepartement_name.bind(_assertThisInitialized(_this));\n    _this.onChangeBoss = _this.onChangeBoss.bind(_assertThisInitialized(_this));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    _this.state = {\n      departement_name: '',\n      boss: '',\n      departements: [],\n      employees: []\n    };\n    return _this;\n  }\n\n  _createClass(EditDepartement, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:3000/ManageDepartement/' + this.props.match.params.id).then(function (response) {\n        _this2.setState({\n          departement_name: response.data.departement_name\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      axios.get('http://localhost:3000/ManageEmployee/').then(function (response) {\n        if (response.data.length > 0) {\n          _this2.setState({\n            employees: response.data\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"onChangeDepartement_name\",\n    value: function onChangeDepartement_name(e) {\n      this.setState({\n        departement_name: e.target.value\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      var _this3 = this;\n\n      e.preventDefault();\n      var department = {\n        departement_name: this.state.departement_name,\n        boss: this.state.boss\n      };\n      console.log(department);\n      axios.patch('http://localhost:3000/ManageDepartement/' + this.props.match.params.id, department).then(function (res) {\n        console.log(res.data);\n\n        _this3.notify(\"tc\");\n\n        window.location = '/addDepartement';\n      }).catch(function (error) {\n        _this3.setState({\n          errorMessage: error.response.data.msg\n        });\n\n        _this3.notifyError('tc');\n      });\n      window.location = '/admin/listdepartement';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, \" \", /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"react-notification-alert-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(NotificationAlert, {\n        ref: \"notificationAlert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        xl: 30,\n        lg: 12,\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }\n      }, \"Manage Departement\"), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"departement_name\",\n        sm: 2,\n        bssize: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 37\n        }\n      }, \"Departement-Name\"), /*#__PURE__*/React.createElement(Col, {\n        sm: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        required: true,\n        value: this.state.departement_name,\n        onChange: this.onChangeDepartement_name,\n        placeholder: \"Write Departement's name\",\n        bssize: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 41\n        }\n      }))), /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"boss\",\n        sm: 2,\n        size: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 37\n        }\n      }, \"supervisor\"), /*#__PURE__*/React.createElement(Col, {\n        sm: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"select\",\n        name: \"boss\",\n        bssize: \"lg\",\n        id: \"boss\",\n        required: true,\n        value: this.state.boss,\n        onChange: function onChange(event) {\n          _this4.onChangeBoss(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 41\n        }\n      }, this.state.employees.map(function (boss) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: boss._id,\n          value: boss._id,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 57\n          }\n        }, boss.username);\n      })))), /*#__PURE__*/React.createElement(FormGroup, {\n        check: true,\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: {\n          bssize: 10,\n          offset: 2\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"submit\",\n        bssize: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 41\n        }\n      }, \"Submit\")))))))));\n    }\n  }]);\n\n  return EditDepartement;\n}(Component);\n\nexport { EditDepartement as default };","map":{"version":3,"sources":["D:/work/YasmineAbdelhakStaged'été/SumIntership/src/views/EditDepartement.js"],"names":["React","Component","axios","NotificationAlert","Button","Card","CardBody","CardHeader","Col","Form","FormGroup","Input","Label","useParams","EditDepartement","props","notify","place","options","message","type","icon","autoDismiss","refs","notificationAlert","notifyError","state","errorMessage","onChangeBoss","event","setState","boss","target","value","onChangeDepartement_name","bind","onSubmit","departement_name","departements","employees","get","match","params","id","then","response","data","catch","error","console","log","length","e","preventDefault","department","patch","res","window","location","msg","map","_id","username","bssize","offset"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport NotificationAlert from \"react-notification-alert\";\r\nimport {\r\n    Button,\r\n    Card,\r\n    CardBody,\r\n    CardHeader,\r\n    Col,\r\n    Form,\r\n    FormGroup,\r\n    Input,\r\n    Label,\r\n} from 'reactstrap';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nexport default class EditDepartement extends Component {\r\n    \r\n    notify = place => {\r\n        var options = {};\r\n        options = {\r\n          place: place,\r\n          message: (\r\n            <div>\r\n              <div>\r\n                Department Updated Successfully\r\n              </div>\r\n            </div>\r\n          ),\r\n          type: \"success\",\r\n          icon: \"tim-icons icon-bell-55\",\r\n          autoDismiss: 7\r\n        };\r\n        this.refs.notificationAlert.notificationAlert(options);\r\n      };\r\n      notifyError = place => {\r\n        var options = {};\r\n        options = {\r\n          place: place,\r\n          message: (\r\n            <div>\r\n              <div>\r\n                {this.state.errorMessage}\r\n              </div>\r\n            </div>\r\n          ),\r\n          type: \"danger\",\r\n          icon: \"tim-icons icon-bell-55\",\r\n          autoDismiss: 7\r\n        };\r\n        this.refs.notificationAlert.notificationAlert(options);\r\n      };\r\n    constructor(props) {\r\n        super(props);\r\n        this.onChangeDepartement_name = this.onChangeDepartement_name.bind(this);\r\n        this.onChangeBoss = this.onChangeBoss.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.state = {\r\n            departement_name: '',\r\n            boss: '',\r\n            departements: [],\r\n            employees: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('http://localhost:3000/ManageDepartement/' + this.props.match.params.id)\r\n            .then(response => {\r\n                this.setState({\r\n                    departement_name: response.data.departement_name\r\n                })\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            })\r\n        axios.get('http://localhost:3000/ManageEmployee/')\r\n            .then(response => {\r\n                if (response.data.length > 0) {\r\n                    this.setState({\r\n                        employees: response.data\r\n                    })\r\n                }\r\n            }).catch((error) => {\r\n                console.log(error)\r\n            })\r\n    }\r\n    onChangeBoss = async (event) => {\r\n        this.setState({\r\n            boss: event.target.value\r\n        });\r\n    }\r\n\r\n\r\n    onChangeDepartement_name(e) {\r\n        this.setState({\r\n            departement_name: e.target.value\r\n        });\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const department = {\r\n            departement_name: this.state.departement_name,\r\n            boss: this.state.boss\r\n        }\r\n        console.log(department);\r\n\r\n        axios.patch('http://localhost:3000/ManageDepartement/' + this.props.match.params.id, department)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                this.notify(\"tc\")\r\n                window.location = '/addDepartement';\r\n            }).catch((error)=> {\r\n                this.setState({errorMessage: error.response.data.msg})\r\n                this.notifyError('tc')\r\n              })\r\n        window.location = '/admin/listdepartement';\r\n\r\n    }\r\n    render() {\r\n        return (  \r\n          <> {/*form*/}\r\n          <div className=\"content\">\r\n                <div className=\"react-notification-alert-container\">\r\n                    <NotificationAlert ref=\"notificationAlert\" />\r\n                </div>\r\n                <Col xl={30} lg={12} md={12}>\r\n                    <Card>\r\n                        <CardHeader>Manage Departement</CardHeader>\r\n                        <CardBody>\r\n                            <Form onSubmit={this.onSubmit}>\r\n                                <FormGroup row>\r\n                                    <Label for=\"departement_name\" sm={2} bssize=\"lg\">\r\n                                        Departement-Name\r\n                  </Label>\r\n                                    <Col sm={10}>\r\n                                        <Input\r\n                                            type=\"text\"\r\n                                            required\r\n                                            value={this.state.departement_name}\r\n                                            onChange={this.onChangeDepartement_name}\r\n                                            placeholder=\"Write Departement's name\"\r\n                                            bssize=\"lg\"\r\n                                        />\r\n                                    </Col>\r\n                                </FormGroup>\r\n                                <FormGroup row>\r\n                                    <Label for=\"boss\" sm={2} size=\"lg\">\r\n                                        supervisor\r\n                                    </Label>\r\n                                    <Col sm={10}>\r\n                                        <Input\r\n                                            type=\"select\" name=\"boss\" bssize=\"lg\"\r\n                                            id=\"boss\"\r\n                                            required\r\n                                            value={this.state.boss}\r\n                                            onChange={(event) => { this.onChangeBoss(event); }}>\r\n                                            {\r\n                                                this.state.employees.map((boss) => {\r\n                                                    return (\r\n                                                        <option\r\n                                                            key={boss._id}\r\n                                                            value={boss._id} >{boss.username}</option>\r\n                                                    )\r\n                                                })\r\n                                            }\r\n                                        </Input>\r\n                                    </Col>\r\n                                </FormGroup>\r\n                                <FormGroup check row>\r\n                                    <Col sm={{ bssize: 10, offset: 2 }}>\r\n                                        <Button type=\"submit\" bssize=\"lg\">Submit</Button>\r\n                                    </Col>\r\n                                </FormGroup>\r\n                            </Form>\r\n                        </CardBody>\r\n                    </Card>\r\n                </Col>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}