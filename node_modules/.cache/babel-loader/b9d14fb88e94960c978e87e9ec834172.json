{"ast":null,"code":"import _classCallCheck from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\work\\\\SIP\\\\SumIntership\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\work\\\\SIP\\\\SumIntership\\\\src\\\\views\\\\AddConge.js\";\nimport axios from 'axios';\nimport React from \"react\";\nimport { Link } from 'react-router-dom';\nimport jwt from \"jsonwebtoken\"; // reactstrap components\n\nimport { Button, Card, CardHeader, CardBody, CardFooter, FormGroup, CustomInput, Form, Input, Row, Col, Label } from \"reactstrap\";\nimport NotificationAlert from 'react-notification-alert';\n\nvar AddConge = /*#__PURE__*/function (_React$Component) {\n  _inherits(AddConge, _React$Component);\n\n  var _super = _createSuper(AddConge);\n\n  function AddConge(props) {\n    var _this;\n\n    _classCallCheck(this, AddConge);\n\n    _this = _super.call(this, props);\n\n    _this.notify = function (place) {\n      var options = {};\n      options = {\n        place: place,\n        message: /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 11\n          }\n        }, \"Request for Leave sent Successfully\")),\n        type: \"success\",\n        icon: \"tim-icons icon-bell-55\",\n        autoDismiss: 7\n      };\n\n      _this.refs.notificationAlert.notificationAlert(options);\n    };\n\n    _this.notifyError = function (place) {\n      var options = {};\n      options = {\n        place: place,\n        message: /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 11\n          }\n        }, _this.state.errorMessage)),\n        type: \"danger\",\n        icon: \"tim-icons icon-bell-55\",\n        autoDismiss: 7\n      };\n\n      _this.refs.notificationAlert.notificationAlert(options);\n    };\n\n    _this.onChangeType = _this.onChangeType.bind(_assertThisInitialized(_this));\n    _this.onChangeDate_deb = _this.onChangeDate_deb.bind(_assertThisInitialized(_this));\n    _this.onChangeDate_fin = _this.onChangeDate_fin.bind(_assertThisInitialized(_this));\n    _this.onChangeReason = _this.onChangeReason.bind(_assertThisInitialized(_this));\n    _this.onChangePosition = _this.onChangePosition.bind(_assertThisInitialized(_this));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    _this.state = {\n      type: '',\n      date_deb: '',\n      date_fin: '',\n      reason: '',\n      position: 'Not Treated Yet',\n      employee: ''\n    };\n    return _this;\n  }\n\n  _createClass(AddConge, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var token = localStorage.getItem(\"token\");\n      var decoded = jwt.decode(token, {\n        complete: true\n      });\n      console.log(decoded.payload.employee);\n      this.setState({\n        employee: decoded.payload.employee.id\n      });\n      console.log(this.state.employee);\n      this.setState({\n        emp_departement: decoded.payload.employee.departement._id\n      });\n      console.log(this.state.emp_departement);\n    }\n  }, {\n    key: \"onChangeType\",\n    value: function onChangeType(e) {\n      this.setState({\n        type: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeDate_deb\",\n    value: function onChangeDate_deb(e) {\n      this.setState({\n        date_deb: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeDate_fin\",\n    value: function onChangeDate_fin(e) {\n      this.setState({\n        date_fin: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangePosition\",\n    value: function onChangePosition(e) {\n      this.setState({\n        position: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeReason\",\n    value: function onChangeReason(e) {\n      this.setState({\n        reason: e.target.value\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var conge = {\n        type: this.state.type,\n        date_deb: this.state.date_deb,\n        date_fin: this.state.date_fin,\n        position: this.state.position,\n        reason: this.state.reason,\n        employee: this.state.employee\n      };\n      console.log(conge);\n      axios.post('http://localhost:3000/ManageConge/send', conge).then(function (res) {\n        console.log(res.data);\n\n        _this2.notify(\"tc\");\n      }).catch(function (error) {\n        _this2.setState({\n          errorMessage: error.response.data.msg\n        });\n\n        _this2.notifyError('tc');\n      });\n      this.setState({\n        type: '',\n        date_deb: '',\n        date_fin: '',\n        reason: ''\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, \" \", /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"react-notification-alert-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(NotificationAlert, {\n        ref: \"notificationAlert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: \"12\",\n        md: \"10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 23\n        }\n      }, \"Add Request for Leave\")), /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 29\n        }\n      }, \"Type:\"), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"select\",\n        id: \"type\",\n        name: \"type\",\n        required: true,\n        value: this.state.type,\n        onChange: function onChange(event) {\n          _this3.onChangeType(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 33\n        }\n      }, \"Type\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 33\n        }\n      }, \"Wedding\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 33\n        }\n      }, \"Sickness\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 33\n        }\n      }, \"Annual\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 33\n        }\n      }, \"Specific\"))))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        className: \"pr-md-1\",\n        md: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 29\n        }\n      }, \"Start Date: \"), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"date\",\n        name: \"date_deb\",\n        id: \"date_deb\",\n        required: true,\n        value: this.state.date_deb,\n        onChange: this.onChangeDate_deb,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 31\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        className: \"pr-md-1\",\n        md: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 29\n        }\n      }, \"End Date: \"), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"date\",\n        name: \"date_fin\",\n        id: \"date_fin\",\n        required: true,\n        value: this.state.date_fin,\n        onChange: this.onChangeDate_fin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 33\n        }\n      })))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 29\n        }\n      }, \"Reason: \"), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        placeholder: \"Reason\",\n        type: \"textarea\",\n        name: \"reason\",\n        id: \"reason\",\n        required: true,\n        value: this.state.reason,\n        onChange: this.onChangeReason,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 33\n        }\n      }))))), /*#__PURE__*/React.createElement(CardFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"btn-fill\",\n        color: \"info\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }\n      }, \"Save\"), /*#__PURE__*/React.createElement(Link, {\n        to: \"addconge\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"btn-fill\",\n        color: \"secondary\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 43\n        }\n      }, \"Discard\")))))))));\n    }\n  }]);\n\n  return AddConge;\n}(React.Component);\n\nexport default AddConge;","map":{"version":3,"sources":["D:/work/SIP/SumIntership/src/views/AddConge.js"],"names":["axios","React","Link","jwt","Button","Card","CardHeader","CardBody","CardFooter","FormGroup","CustomInput","Form","Input","Row","Col","Label","NotificationAlert","AddConge","props","notify","place","options","message","type","icon","autoDismiss","refs","notificationAlert","notifyError","state","errorMessage","onChangeType","bind","onChangeDate_deb","onChangeDate_fin","onChangeReason","onChangePosition","onSubmit","date_deb","date_fin","reason","position","employee","token","localStorage","getItem","decoded","decode","complete","console","log","payload","setState","id","emp_departement","departement","_id","e","target","value","preventDefault","conge","post","then","res","data","catch","error","response","msg","event","Component"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React from \"react\";\r\nimport { Link } from 'react-router-dom';\r\nimport jwt from \"jsonwebtoken\";\r\n\r\n// reactstrap components\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  CardFooter,\r\n  FormGroup,\r\n  CustomInput,\r\n  Form,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Label\r\n \r\n} from \"reactstrap\";\r\nimport NotificationAlert from 'react-notification-alert';\r\n\r\nclass AddConge extends React.Component {\r\n  notify = place => {\r\n    var options = {};\r\n    options = {\r\n      place: place,\r\n      message: (\r\n        <div>\r\n          <div>\r\n            Request for Leave sent Successfully\r\n          </div>\r\n        </div>\r\n      ),\r\n      type: \"success\",\r\n      icon: \"tim-icons icon-bell-55\",\r\n      autoDismiss: 7\r\n    };\r\n    this.refs.notificationAlert.notificationAlert(options);\r\n  };\r\n  notifyError = place => {\r\n    var options = {};\r\n    options = {\r\n      place: place,\r\n      message: (\r\n        <div>\r\n          <div>\r\n            {this.state.errorMessage}\r\n          </div>\r\n        </div>\r\n      ),\r\n      type: \"danger\",\r\n      icon: \"tim-icons icon-bell-55\",\r\n      autoDismiss: 7\r\n    };\r\n    this.refs.notificationAlert.notificationAlert(options);\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeType = this.onChangeType.bind(this);\r\n    this.onChangeDate_deb = this.onChangeDate_deb.bind(this);\r\n    this.onChangeDate_fin = this.onChangeDate_fin.bind(this);\r\n    this.onChangeReason = this.onChangeReason.bind(this);\r\n    this.onChangePosition = this.onChangePosition.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.state = {\r\n      type:'',\r\n      date_deb: '',\r\n      date_fin: '',\r\n      reason: '',\r\n      position: 'Not Treated Yet',\r\n      employee:'',\r\n\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    \r\n    let token = localStorage.getItem(\"token\")\r\n    let decoded = jwt.decode(token,{complete: true})\r\n      console.log(decoded.payload.employee)\r\n      this.setState({employee : decoded.payload.employee.id})\r\n      console.log(this.state.employee)\r\n      this.setState({emp_departement : decoded.payload.employee.departement._id})\r\n      console.log(this.state.emp_departement)\r\n      \r\n  }\r\n\r\n  onChangeType(e) {\r\n    this.setState({\r\n    type: e.target.value\r\n    });\r\n  }\r\n  onChangeDate_deb(e) {\r\n    this.setState({\r\n      date_deb: e.target.value\r\n    });\r\n  }\r\n  onChangeDate_fin(e) {\r\n    this.setState({\r\n      date_fin: e.target.value\r\n    });\r\n  }\r\n  onChangePosition(e) {\r\n    this.setState({\r\n      position: e.target.value\r\n    });\r\n  }\r\n  onChangeReason(e) {\r\n    this.setState({\r\n      reason: e.target.value\r\n    });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const conge = {\r\n      type: this.state.type,\r\n      date_deb: this.state.date_deb,\r\n      date_fin: this.state.date_fin,\r\n      position: this.state.position,\r\n      reason: this.state.reason,\r\n      employee: this.state.employee,\r\n    }\r\n    console.log(conge);\r\n\r\n    axios.post('http://localhost:3000/ManageConge/send', conge)\r\n      .then(res => {\r\n        console.log(res.data)\r\n        this.notify(\"tc\")\r\n      }).catch((error)=> {\r\n        this.setState({errorMessage: error.response.data.msg})\r\n        this.notifyError('tc')\r\n      })\r\n\r\n    this.setState({\r\n      type: '',\r\n      date_deb: '',\r\n      date_fin: '',\r\n      reason: ''\r\n    })\r\n  }\r\n\r\n    render(){\r\n        return(\r\n          <> {/*form*/}\r\n          <div className=\"content\">\r\n          <div className=\"react-notification-alert-container\">\r\n            <NotificationAlert ref=\"notificationAlert\" />\r\n          </div>\r\n             <Row>\r\n                <Col lg=\"12\" md=\"10\">\r\n                  <Card>\r\n                    <CardHeader>\r\n                      <h5 className=\"title\">Add Request for Leave</h5>\r\n                    </CardHeader>\r\n                    <Form onSubmit={this.onSubmit}>\r\n                    <CardBody>\r\n                    <Row>\r\n                          <Col md=\"8\">\r\n                            <label>Type:</label>\r\n                            <FormGroup>\r\n                              <Input\r\n                                type=\"select\"\r\n                                id=\"type\"\r\n                                name=\"type\"\r\n                                required\r\n                                value={this.state.type}\r\n                                onChange={(event) => { this.onChangeType(event); }}\r\n                              >\r\n                                <option>Type</option>\r\n                                <option>Wedding</option>\r\n                                <option>Sickness</option>\r\n                                <option>Annual</option>\r\n                                <option>Specific</option>\r\n                              </Input>\r\n                            </FormGroup>\r\n                          </Col>\r\n                    </Row>\r\n                    <Row>\r\n                          <Col className=\"pr-md-1\" md=\"4\">\r\n                            <label>Start Date: </label>\r\n                            <FormGroup>\r\n                              <Input\r\n                                type=\"date\"\r\n                                name=\"date_deb\"\r\n                                id=\"date_deb\"\r\n                                required\r\n                                value={this.state.date_deb}\r\n                                onChange={this.onChangeDate_deb}\r\n                              />\r\n                            </FormGroup>\r\n                          </Col>\r\n                          <Col className=\"pr-md-1\" md=\"4\">\r\n                            <label>End Date: </label>\r\n                            <FormGroup>\r\n                                <Input\r\n                                type=\"date\"\r\n                                name=\"date_fin\"\r\n                                id=\"date_fin\"\r\n                                required\r\n                                value={this.state.date_fin}\r\n                                onChange={this.onChangeDate_fin}\r\n                                 />\r\n                            </FormGroup>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col md=\"8\">\r\n                            <label>Reason: </label>\r\n                            <FormGroup>\r\n                                <Input \r\n                                placeholder=\"Reason\"\r\n                                type=\"textarea\" \r\n                                name=\"reason\" \r\n                                id=\"reason\"\r\n                                required\r\n                                value={this.state.reason}\r\n                                onChange={this.onChangeReason}\r\n                                 />\r\n                            </FormGroup>\r\n                          </Col>\r\n                        </Row>\r\n                    </CardBody>\r\n                    <CardFooter>\r\n                    <Button className=\"btn-fill\" color=\"info\" type=\"submit\">\r\n                        Save\r\n                      </Button>\r\n                      <Link to=\"addconge\"><Button className=\"btn-fill\" color=\"secondary\" type=\"submit\">\r\n                          Discard\r\n                        </Button></Link>\r\n                      \r\n                    </CardFooter>\r\n                    </Form>\r\n                  </Card>\r\n                </Col>\r\n                </Row>\r\n                \r\n                </div>\r\n                </>\r\n                )\r\n              }\r\n              }\r\n\r\nexport default AddConge;"]},"metadata":{},"sourceType":"module"}